(function(n){"use strict";function f(){i=r.is(":hidden")?!1:!0}function e(){var i=t.scrollTop(),r=n(document).height(),u=t.height();return Math.ceil(i/(r-u)*1e4)/1e4}var t=n(window),u=n("body"),r=n("#menu-toggle"),o=n("#back-to-top"),i=!1;n(document).ready(function(){f();r.click(function(n){u.toggleClass("menu--opened");r.blur();n.preventDefault()});t.on("resize orientationchange",function(){f();i===!1&&u.removeClass("menu--opened")});i===!0;t.on("resize scroll",function(){})});n.fn.initCanvas=function(){function o(n,r,u){t.clearRect(-i.size/2,-i.size/2,i.size,i.size);t.lineWidth=u;t.lineCap="round";t.beginPath();t.arc(0,0,(i.size-u)/2,0,Math.PI*2,!1);t.strokeStyle=r;t.stroke();t.closePath();t.beginPath();t.arc(0,0,(i.size-u)/2,0,Math.PI*2*f,!1);t.strokeStyle=n;t.stroke();t.closePath()}var r=n(this),u=document.createElement("canvas");if(u.getContext){var t=u.getContext("2d"),i={lineWidth:2,rotate:0,size:r.height(),colorProgress:"#d4a259",colorBackground:"#eee"},f=e();r.find("canvas").remove();f<.1&&r.css("opacity")!==0?r.stop().fadeOut(300):f>=.1&&(r.stop().fadeIn(600),r.append(u),u.width=u.height=i.size,t.translate(i.size/2,i.size/2),t.rotate((-1/2+i.rotate/180)*Math.PI),o(i.colorProgress,i.colorBackground,i.lineWidth))}}})(jQuery);