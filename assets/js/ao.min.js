var Ao=function(){"use strict";function r(){}function y(n){return n.call(this,this.e,0),this}function p(n){for(var i=this.e,t=0,r=i.length;t<r;++t)n.call(this,i[t],t);return this}function c(n){return Boolean(n)&&"length"in n&&typeof n.length=="number"}function u(n,t){n.e=t;n._do=y}function o(n,t,i){return typeof t=="function"?this.on(n,t,i):(this.e.dispatchEvent(new Event(n)),this)}function d(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}var w={classList:{add:r,remove:r},style:{},addEventListener:r,dispatchEvent:r},n=function(n){return new t(n)},t=function(t){this._data={};typeof t=="undefined"?u(this,w):typeof t=="string"?u(this,n.get(t)):t===window||t===document||t===document.body?u(this,t):c(t)?t.length===1?u(this,t[0]):(this.e=t,this._do=p):u(this,t)},s,e,i,f,v;t.prototype={getByCss:function(n){return this.e.querySelector(n)},getAllByCss:function(n){return this.e.querySelectorAll(n)},html:function(n){return typeof n=="string"?(this.e.innerHTML=n,this):this.e.innerHTML},addClass:function(n){return this._do(function(t){t.classList.add(n)})},removeClass:function(n){return this._do(function(t){t.classList.remove(n)})},toggleClass:function(n){return this._do(function(t){t.classList.contains(n)?t.classList.remove(n):t.classList.add(n)})},css:function(){var t,n,i;return arguments.length===1&&(t=arguments[0],typeof t=="string")?getComputedStyle(this.e).getPropertyValue(t):(n=arguments,i=n.length,this._do(function(t){for(var r=0;r<i;)t.style[n[r++]]=n[r++]}))},hide:function(){var n=this.e.style.display;return(Boolean(this._data.display)||(n=getComputedStyle(this.e).getPropertyValue("display")),n==="none")?this:(this._data.display=n,this.css("display","none"))},unhide:function(){return this.css("display",this._data.hasOwnProperty("display")?this._data.display:"")},fadeIn:function(){return this.removeClass("fade-out").css("opacity",0).unhide().addClass("fade-in-down")},fadeOut:function(){this.removeClass("fade-in-down").css("opacity",1).addClass("fade-out");var n=this;return setTimeout(function(){n.hide();n=undefined},700),this},enable:function(){return this._do(function(n){n.disabled=!1})},disable:function(){return this._do(function(n){n.disabled=!0})},after:function(n){var i=n instanceof t?n.e:n;return this._do(function(n,t){var r=t===0?i:i.cloneNode();n.parentNode.insertBefore(r,n.nextSibling)})},on:function(n,t,i){var r=n.split(" "),u=r.length,f=i||this,e=function(n){t.call(f,n)};return this._do(function(n){for(var t=0;t<u;++t)n.addEventListener(r[t],e)})},click:function(n,t){return o.call(this,"click",n,t)},blur:function(n,t){return o.call(this,"blur",n,t)},keyup:function(n,t){return o.call(this,"keyup",n,t)},clear:function(){return this.html("")}};n.derive=function(n){return n.prototype=Object.create(t.prototype),n.prototype._base=t,n};s=n.derive(function(n){t.call(this,n.getByCss('input[type="submit"]'))});s.prototype.confirm=function(){return this.e.value==="Confirm"?!0:(this.e.defaultText=this.e.value,this.e.defaultTitle=this.e.title,this.e.value="Confirm",this.e.title="Click again to confirm",this.addClass("confirm-button"),!1)};e=n.derive(function(){t.call(this,"popup")});e.prototype.show=function(t){var i=n(t);return i.getByCss(".message")&&this.addClass("with-message"),this.html(i.html()),this};e.prototype.reset=function(){return this.removeClass("with-message")};var b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,h={required:function(){return Boolean(this.e.value)},email:function(){return h.required.call(this)&&b.test(this.e.value.toLowerCase())}},l=Object.keys(h),k=l.length,a=n.derive(function(i){var r,u,f;t.call(this,i);this.on("blur keyup",this.validate);for(this._msg=n(document.createElement("span")).addClass("error-message"),this.after(this._msg),this._validators=[],r=0;r<k;++r)u=l[r],f=i.getAttribute("data-val-"+u),Boolean(f)&&this._validators.push({test:h[u],msg:f})});return a.prototype.validate=function(){for(var t,n=0,i=this._validators.length;n<i;++n)if(t=this._validators[n],t.test.call(this)===!1)return this._msg.html(t.msg),this._msg.removeClass("field-validation-valid").addClass("field-validation-error"),!1;return this._msg.removeClass("field-validation-error").addClass("field-validation-valid"),!0},i=n.derive(function(i){var r,f,u;for(t.call(this,i),this._cover=n("progress-cover"),this._popup=new e,this.submit=new s(this),this._validators=[],r=0,f=i.length;r<f;++r)(u=i[r],Boolean(u.getAttribute("data-val")))&&this._validators.push(new a(u))}),i.prototype.validate=function(){for(var t=!0,n=0,i=this._validators.length;n<i;++n)this._validators[n].validate()===!1&&(t=!1);return t},i.prototype.submitting=function(){return this._cover.removeClass("hidden"),this.disable(),this._popup.show("progress").hide().removeClass("hidden").fadeIn(),this},i.prototype.ok=function(){return this._popup.show("complete-ok"),this},i.prototype.error=function(){return this._popup.show("complete-error"),this},i.prototype.reset=function(){return this._popup.fadeOut().reset(),this.enable(),this._cover.addClass("hidden"),this},n.ready=function(n){if(document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll){window.setTimeout(n);return}var t=function(){document.removeEventListener("DOMContentLoaded",t);window.removeEventListener("load",t);n()};document.addEventListener("DOMContentLoaded",t);window.addEventListener("load",t)},n.get=function(n){return document.getElementById(n)},n.isArrayLike=c,n.merge=function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},n.serialize=function(n){var i=[];for(var t in n)n.hasOwnProperty(t)&&i.push(encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return i.join("&")},f=function(){},f.prototype={type:"GET",async:!0},f.prototype.onFail=r,f.prototype.onSuccess=r,v=4,n.ajax=function(t){var i=n.merge(new f,t),r=d(),u,e;if(r.open(i.type,i.url,i.async),r.onreadystatechange=function(){var n,t;if(r.readyState===v){if(n={},Boolean(r.responseText))try{n.data=JSON.parse(r.responseText)}catch(f){n.data=r.responseText}if(n.statusCode=r.status,t=i.hasOwnProperty("ctx")?i.ctx:null,r.status>=400)i.onFail.call(t,n);else try{i.onSuccess.call(t,n)}catch(u){n.error=u;i.onFail.call(t,n)}}},i.hasOwnProperty("data")===!1){r.send();return}i.hasOwnProperty("isJson")&&i.isJson===!0?(u="json",e=JSON.stringify(i.data)):(u="x-www-form-urlencoded",e=n.serialize(i.data));r.setRequestHeader("Content-Type","application/"+u);r.send(e)},n.form=function(n){return typeof n=="undefined"&&(n=document.forms[0]),new i(n)},n}();