(function(n){(function(t){(function(i){var r=function(){function i(){}return i.prototype.handleSend=function(i){var f=n(i),u,r;return f.valid()?(this._coverForm(),this._$getFormElements().prop("disabled",!0),this._$showPopupPanel("sending").hide().removeClass("hidden").fadeIn(),u={name:t.getById("contact-form-name").value,email:t.getById("contact-form-email").value,message:t.getById("contact-form-message").value},r=this,n.ajax({type:"post",url:commentForm.action,data:u,xhrFields:{withCredentials:!1}}).fail(function(){r._$showPopupPanel("sent-error")}).done(function(){r._$showPopupPanel("sent-ok")}),!1):!1},i.prototype.handleSent=function(n){if(n){document.location.href="/";return}this._$getFormElements().prop("disabled",!1);this._uncoverForm();this._$getPopupPanel().fadeOut()},i.prototype._$getFormElements=function(){return n("#contact-form input,#contact-form textarea,#contact-form-submit")},i.prototype._coverForm=function(){this._$getFormCover().removeClass("hidden")},i.prototype._uncoverForm=function(){this._$getFormCover().addClass("hidden")},i.prototype._$getFormCover=function(){return t.$getById("contact-form-cover")},i.prototype._$showPopupPanel=function(n){return this._$getPopupPanel().html(t.$getById(n).html())},i.prototype._$getPopupPanel=function(){return t.$getById("popup")},i}();n(function(){i.contactForm=new r})})(t.Web||(t.Web={}))})(window.AgileObjects||(window.AgileObjects={}))})(jQuery);