(function(n){"use strict";function u(n){switch(n){case 13:case 16:case 20:case 37:case 38:case 39:case 40:case 91:return!1;default:return!0}}function f(n,t){return Boolean(t)?(t=t.trim().toLowerCase(),n.filter(function(n){return t.indexOf(n)>=0}).length===n.length):!1}function e(n){return this._opts.template.replace(r,function(t,i){return n[i]||t})}var i=function(){},t,r;i.prototype={min:3,json:[],template:'<li><a href="{url}" title="{desc}">{title}<\/a><\/li>',noResults:"No results found",limit:10};t=function(t){this._ready=!1;this._opts=n.merge(new i,t);n.ajax({type:"GET",url:this._opts.url,ctx:this,onSuccess:function(n){this._opts.json=n.data;this._ready=!0;this._search()}});this._input=n(this._opts.input).keyup(function(n){u(n.which)&&this._search()},this);this._output=n(this._opts.output)};t.prototype._search=function(){if(this._ready!==!1){this._output.clear();var n=this._input.e.value.trim();Boolean(n)&&n.length>=this._opts.min&&this._render(this._getMatches(n))}};t.prototype._getMatches=function(n){for(var t,u,e=this._opts.json,o=e.length,s=this._opts.limit,i=[],h=n.toLowerCase().split(" "),r=0;r<o&&i.length<=s;++r){t=e[r];for(u in t)if(t.hasOwnProperty(u)&&f(h,t[u])){i.push(t);break}}return i};r=/\{(.*?)\}/g;t.prototype._render=function(n){var r=n.length,i,t;if(r===0){this._output.html(this._opts.noResults);return}for(i=[],t=0;t<r;++t)i.push(e.call(this,n[t]));this._output.html(i.join("\n"))};n.search=function(n){return new t(n)}})(Ao);